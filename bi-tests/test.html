<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--基于标准化的boxmodel来统一浏览器 -->
<html>

<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset='utf-8'>
    <!-- <script type='text/javascript' src='http://192.168.1.115:8075/WebReport/ReportServer?op=emb&resource=finereport.js&__v__=%E4%B8%8D%E6%98%AF%E5%AE%89%E8%A3%85%E7%89%88%E6%9C%AC'></script> -->
    <!-- <script type='text/javascript' src='http://192.168.1.115:8075/WebReport/ReportServer?op=emb&resource=third.js&__v__=%E4%B8%8D%E6%98%AF%E5%AE%89%E8%A3%85%E7%89%88%E6%9C%AC'></script> -->
    <!-- <script type='text/javascript' src='http://192.168.1.115:8075/WebReport/ReportServer?op=emb&resource=base.js&__v__=%E4%B8%8D%E6%98%AF%E5%AE%89%E8%A3%85%E7%89%88%E6%9C%AC'></script> -->
    <!-- <script type='text/javascript' src='http://192.168.1.115:8075/WebReport/ReportServer?op=emb&resource=export.js&__v__=%E4%B8%8D%E6%98%AF%E5%AE%89%E8%A3%85%E7%89%88%E6%9C%AC'></script> -->
    <script type='text/javascript' src='vancharts-all.js'></script>
    <script type='text/javascript' src='jquery.js'></script>
    <script type='text/javascript' src='../examples/es6_promise.js'></script>
    <script type='text/javascript' src='../dist/html2canvas.js'></script>
    <script type='text/javascript' src='../dist/html2canvas.svg.js'></script>
    <script type='text/javascript' src='config.js'></script>
    <link rel='stylesheet' href='test.css' type='text/css'/>
</head>

<body>

<div class="demo">
    <div class="float">
        <div id='image_wrapper' style="overflow: hidden">
            <img id='wrapper' src='test.jpg'>
        </div>
        <div>
            <img id='image_canvas'>
        </div>
        <div>
            <div id="vessel" style='position: absolute; width: 800px; height: 500px'></div>
        </div>
        <div>
            <img id='img_canvas'>
        </div>
        <div>
            <textarea id="holder" style="width: 700px; height: 400px; margin-top: 50px;"></textarea>
        </div>
        <div>
            <img id='textarea_canvas' style="margin-top: 50px">
        </div>
        <div>
            <iframe id="container" style='width: 700px; height: 400px; margin-top: 50px;'></iframe>
        </div>
        <div>
            <img id='iframe_canvas' style="margin-top: 50px">
        </div>
    </div>
</div>

<script type="text/javascript">
    var vessel = document.getElementById('vessel');
    var wrapper = VanCharts.init(vessel);
    wrapper.setOptions(options);

    var textArea = $('#holder');
    var value = '123-zhang-张-AstronautOO8123-zhang-张-AstronautOO8123-zhang-张-AstronautOO8123-zhang-张-AstronautOO8123-zhang-张-AstronautOO8123-zhang-张-AstronautOO8';
    textArea.val(value);

    var container = document.querySelector('#container');

    //    container.src = "https://www.baidu.com";

    function renderImage() {
        html2canvas(document.querySelector('#image_wrapper'), {
            logging: true,
            useCORS: true
        }).then(function (canvas) {
            var imgData = canvas.toDataURL();
            document.getElementById('image_canvas').src = imgData;
        })
    }

    function renderChart() {

        setTimeout(function () {
            html2canvas(vessel, {
                logging: true
            }).then(function (canvas) {
                var imgData = canvas.toDataURL();
                document.getElementById('img_canvas').src = imgData;
            })
        }, 2000)
    }

    function renderTextArea() {
        html2canvas(textArea, {
            logging: true
        }).then(function (canvas) {
            var imgData = canvas.toDataURL();
            document.getElementById('textarea_canvas').src = imgData;
        })

    }

    function renderIframe() {

        html2canvas(container, {
            useCORS: true,
            logging: true
        }).then(function (canvas) {
            var imgData = canvas.toDataURL();
            document.getElementById('iframe_canvas').src = imgData;
        })
    }

    window.onload = function () {
        renderImage();
//        renderChart();
//        renderTextArea();
//        renderIframe();
    };

</script>
</body>

</html>
